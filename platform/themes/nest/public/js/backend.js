!function(e){"use strict";e.ajaxSetup({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")}});var t=function(e){window.showAlert("alert-danger",e)},a=function(e){window.showAlert("alert-success",e)},o=function(a){void 0!==a.errors&&a.errors.length?n(a.errors):void 0!==a.responseJSON?void 0!==a.responseJSON.errors?422===a.status&&n(a.responseJSON.errors):void 0!==a.responseJSON.message?t(a.responseJSON.message):e.each(a.responseJSON,(function(a,o){e.each(o,(function(e,a){t(a)}))})):t(a.statusText)},n=function(a){var o="";e.each(a,(function(e,t){""!==o&&(o+="<br />"),o+=t})),t(o)};function s(e){for(var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e||window.location.search.substring(1),n=/([^&=]+)=?([^&]*)/g,s=/\+/g,r=function(e){return decodeURIComponent(e.replace(s," "))},i={};t=n.exec(o);){var l=r(t[1]),d=r(t[2]);"[]"==l.substring(l.length-2)?(a&&(l=l.substring(0,l.length-2)),(i[l]||(i[l]=[])).push(d)):i[l]=d}return i}window.showAlert=function(t,a){if(t&&""!==a){var o=Math.floor(1e3*Math.random()),n='<div class="alert '.concat(t,' alert-dismissible" id="').concat(o,'">\n                <span class="btn-close" data-bs-dismiss="alert" aria-label="close"></span>\n                <i class="fi-rs-')+("alert-success"===t?"check":"cross")+' message-icon"></i>\n                '.concat(a,"\n            </div>");e("#alert-container").append(n).ready((function(){window.setTimeout((function(){e("#alert-container #".concat(o)).remove()}),6e3)}))}};var r="rtl"===e("body").prop("dir");e(document).ready((function(){jQuery().mCustomScrollbar&&e(".ps-custom-scrollbar").mCustomScrollbar({theme:"dark",scrollInertia:0}),window.onBeforeChangeSwatches=function(t){e(".add-to-cart-form .error-message").hide(),e(".add-to-cart-form .success-message").hide(),e(".number-items-available").html("").hide(),t&&t.attributes&&e(".add-to-cart-form button[type=submit]").prop("disabled",!0).addClass("btn-disabled")},window.onChangeSwatchesSuccess=function(t){if(e(".add-to-cart-form .error-message").hide(),e(".add-to-cart-form .success-message").hide(),t){var a=e(".add-to-cart-form button[type=submit]");if(t.error)a.prop("disabled",!0).addClass("btn-disabled"),e(".number-items-available").html('<span class="text-danger">('+t.message+")</span>").show(),e(".hidden-product-id").val("");else{e(".add-to-cart-form").find(".error-message").hide(),e(".product-price span.current-price").text(t.data.display_sale_price),t.data.sale_price!==t.data.price?(e(".product-price span.old-price").text(t.data.display_price).removeClass("d-none"),e(".product-price span.save-price .percentage-off").text(t.data.sale_percentage),e(".product-price span.save-price").removeClass("d-none")):(e(".product-price span.old-price").addClass("d-none"),e(".product-price span.save-price").addClass("d-none")),t.data.sku?(e("#product-sku").removeClass("d-none"),e("#product-sku .sku-text").text(t.data.sku)):e("#product-sku").addClass("d-none"),e(".hidden-product-id").val(t.data.id),a.prop("disabled",!1).removeClass("btn-disabled"),t.data.error_message?(a.prop("disabled",!0).addClass("btn-disabled"),e(".number-items-available").html('<span class="text-danger">'+t.data.error_message+"</span>").removeClass("d-none")):t.data.success_message?e(".number-items-available").html(t.data.stock_status_html).removeClass("d-none"):e(".number-items-available").html("").addClass("d-none");var o=t.data.unavailable_attribute_ids||[];e(".attribute-swatch-item").removeClass("pe-none"),e(".product-filter-item option").prop("disabled",!1),o&&o.length&&o.map((function(t){var a=e('.attribute-swatch-item[data-id="'+t+'"]');a.length?(a.addClass("pe-none"),a.find("input").prop("checked",!1)):(a=e('.product-filter-item option[data-id="'+t+'"]')).length&&a.prop("disabled","disabled").prop("selected",!1)}));var n=e(".product-image-slider");n.slick("unslick");var s="";t.data.image_with_sizes.origin.forEach((function(e){s+='<figure class="border-radius-10"><a href="'+e+'"><img src="'+e+'" alt="image"/></a></figure>'})),n.html(s),n.slick({slidesToShow:1,slidesToScroll:1,rtl:r,arrows:!1,fade:!1,asNavFor:".slider-nav-thumbnails"});var i=e(".slider-nav-thumbnails");i.slick("unslick");var l="";t.data.image_with_sizes.thumb.forEach((function(e){l+='<div class="item"><img src="'+e+'" alt="image"/></div>'})),i.html(l),i.slick({slidesToShow:5,slidesToScroll:1,rtl:r,asNavFor:".product-image-slider",dots:!1,focusOnSelect:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fi-rs-arrow-small-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fi-rs-arrow-small-right"></i></button>'}),i.find(".slick-slide").removeClass("slick-active"),i.find(".slick-slide").eq(0).addClass("slick-active"),n.on("beforeChange",(function(e,t,a,o){var n=o;i.find(".slick-slide").removeClass("slick-active"),i.find(".slick-slide").eq(n).addClass("slick-active")})),n.magnificPopup({delegate:".slick-slide:not(.slick-cloned) a",type:"image",gallery:{enabled:!0}})}}},e(document).on("click",".newsletter-form button[type=submit]",(function(n){n.preventDefault(),n.stopPropagation();var s=e(this);s.addClass("button-loading"),e.ajax({type:"POST",cache:!1,url:s.closest("form").prop("action"),data:new FormData(s.closest("form")[0]),contentType:!1,processData:!1,success:function(e){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),e.error?t(e.message):(s.closest("form").find("input[type=email]").val(""),a(e.message))},error:function(e){"undefined"!=typeof refreshRecaptcha&&refreshRecaptcha(),o(e)},complete:function(){s.removeClass("button-loading")}})})),e(document).on("change",".switch-currency",(function(){e(this).closest("form").submit()})),e(document).on("click",".js-add-to-wishlist-button",(function(t){t.preventDefault();var a=e(this);a.addClass("button-loading"),e.ajax({url:a.data("url"),method:"POST",success:function(t){if(t.error)return window.showAlert("alert-danger",t.message),!1;window.showAlert("alert-success",t.message),e(".wishlist-count").text(t.data.count),a.toggleClass("wis_added"),a.removeClass("button-loading").removeClass("js-add-to-wishlist-button").addClass("js-remove-from-wishlist-button")},error:function(e){window.showAlert("alert-danger",e.message)},complete:function(){a.removeClass("button-loading")}})})),e(document).on("click",".js-remove-from-wishlist-button",(function(t){t.preventDefault();var a=e(this);a.addClass("button-loading"),e.ajax({url:a.data("url"),method:"DELETE",success:function(t){if(t.error)return window.showAlert("alert-danger",t.message),!1;window.showAlert("alert-success",t.message),e(".wishlist-count").text(t.data.count),a.closest("tr").remove(),a.removeClass("js-remove-from-wishlist-button").addClass("js-add-to-wishlist-button")},error:function(e){window.showAlert("alert-danger",e.message)},complete:function(){a.removeClass("button-loading")}})})),e(document).on("click",".js-add-to-compare-button",(function(t){t.preventDefault();var a=e(this);a.addClass("button-loading"),e.ajax({url:a.data("url"),method:"POST",success:function(t){if(t.error)return window.showAlert("alert-danger",t.message),!1;e(".compare-count").text(t.data.count),window.showAlert("alert-success",t.message)},error:function(e){window.showAlert("alert-danger",e.message)},complete:function(){a.removeClass("button-loading")}})})),e(document).on("click",".js-remove-from-compare-button",(function(t){t.preventDefault();var a=e(this),o=a.html();a.html(o+"..."),e.ajax({url:a.data("url"),method:"DELETE",success:function(t){if(t.error)return a.text(o),window.showAlert("alert-danger",t.message),!1;e(".compare-count").text(t.data.count),e(".table__compare").load(window.location.href+" .table__compare > *",(function(){window.showAlert("alert-success",t.message),a.html(o)}))},error:function(e){a.removeClass("button-loading"),window.showAlert("alert-danger",e.message)}})})),e(document).on("click",".add-to-cart-button",(function(t){t.preventDefault();var a=e(this);a.prop("disabled",!0).addClass("button-loading"),e.ajax({url:a.data("url"),method:"POST",data:{id:a.data("id")},dataType:"json",success:function(t){if(a.prop("disabled",!1).removeClass("button-loading").addClass("active"),t.error)return window.showAlert("alert-danger",t.message),void 0!==t.data.next_url&&(window.location.href=t.data.next_url),!1;window.showAlert("alert-success",t.message),void 0!==t.data.next_url?window.location.href=t.data.next_url:e.ajax({url:window.siteUrl+"/ajax/cart",method:"GET",success:function(t){t.error||(e(".cart-dropdown-panel").html(t.data.html),e(".mini-cart-icon span").text(t.data.count))}})},error:function(e){a.prop("disabled",!1).removeClass("button-loading"),window.showAlert("alert-danger",e.message)}})})),e(document).on("click",".add-to-cart-form button[type=submit]",(function(t){t.preventDefault(),t.stopPropagation();var a=e(this);if(e(".hidden-product-id").val()){a.prop("disabled",!0).addClass("btn-disabled").addClass("button-loading");var n=a.closest("form"),s=n.serializeArray();s.push({name:"checkout",value:"checkout"===a.prop("name")?1:0}),e.ajax({type:"POST",url:n.prop("action"),data:e.param(s),success:function(t){if(a.prop("disabled",!1).removeClass("btn-disabled").removeClass("button-loading"),t.error)return a.removeClass("button-loading"),window.showAlert("alert-danger",t.message),void 0!==t.data.next_url&&(window.location.href=t.data.next_url),!1;window.showAlert("alert-success",t.message),void 0!==t.data.next_url?window.location.href=t.data.next_url:e.ajax({url:window.siteUrl+"/ajax/cart",method:"GET",success:function(t){t.error||(e(".cart-dropdown-panel").html(t.data.html),e(".mini-cart-icon span").text(t.data.count))}})},error:function(e){a.prop("disabled",!1).removeClass("btn-disabled").removeClass("button-loading"),o(e,a.closest("form"))}})}else a.prop("disabled",!0).addClass("btn-disabled")})),e(document).on("click",".remove-cart-item",(function(t){t.preventDefault();var a=e(this);a.closest("li").addClass("content-loading"),e.ajax({url:a.data("url"),method:"GET",success:function(t){if(a.closest("li").removeClass("content-loading"),t.error)return window.showAlert("alert-danger",t.message),!1;e.ajax({url:window.siteUrl+"/ajax/cart",method:"GET",success:function(a){a.error||(e(".cart-dropdown-panel").html(a.data.html),e(".mini-cart-icon span").text(a.data.count),window.showAlert("alert-success",t.message))}})},error:function(e){a.closest("li").removeClass("content-loading"),window.showAlert("alert-danger",e.message)}})})),e(document).on("click",".remove-cart-button",(function(t){t.preventDefault();var a=e(this);a.closest(".table--cart").addClass("content-loading"),e.ajax({url:a.data("url"),method:"GET",success:function(t){if(t.error)return window.showAlert("alert-danger",t.message),a.closest(".table--cart").removeClass("content-loading"),!1;e(".section--shopping-cart").load(window.location.href+" .section--shopping-cart > *",(function(){a.closest(".table--cart").removeClass("content-loading"),window.showAlert("alert-success",t.message)})),e.ajax({url:window.siteUrl+"/ajax/cart",method:"GET",success:function(t){t.error||(e(".cart-dropdown-panel").html(t.data.html),e(".mini-cart-icon span").text(t.data.count))}})},error:function(e){a.closest(".table--cart").removeClass("content-loading"),window.showAlert("alert-danger",e.message)}})})),e(document).on("change",".submit-form-on-change",(function(){e(this).closest("form").submit()}));var n=[],i=function(e){for(var t=new ClipboardEvent("").clipboardData||new DataTransfer,a=0,o=n;a<o.length;a++){var s=o[a];t.items.add(s)}e.files=t.files,l(e)},l=function(t){var a=e(".image-upload__text"),o=e(t).data("max-files"),n=t.files.length;o?(n>=o?a.closest(".image-upload__uploader-container").addClass("d-none"):a.closest(".image-upload__uploader-container").removeClass("d-none"),a.text(n+"/"+o)):a.text(n);var s=e(".image-viewer__list"),r=e("#review-image-template").html();if(s.addClass("is-loading"),s.find(".image-viewer__item").remove(),n){for(var i=n-1;i>=0;i--)s.prepend(r.replace("__id__",i));for(var l=function(e){var a=new FileReader;a.onload=function(t){s.find(".image-viewer__item[data-id="+e+"]").find("img").attr("src",t.target.result)},a.readAsDataURL(t.files[e])},d=n-1;d>=0;d--)l(d)}s.removeClass("is-loading")};function d(t){t.closest(".table--cart").addClass("content-loading"),e.ajax({type:"POST",cache:!1,url:t.closest("form").prop("action"),data:new FormData(t.closest("form")[0]),contentType:!1,processData:!1,success:function(a){if(a.error)return window.showAlert("alert-danger",a.message),t.closest(".table--cart").removeClass("content-loading"),t.closest(".detail-qty").find(".qty-val").text(a.data.count),!1;e(".section--shopping-cart").load(window.location.href+" .section--shopping-cart > *",(function(){t.closest(".table--cart").removeClass("content-loading"),window.showAlert("alert-success",a.message)})),e.ajax({url:window.siteUrl+"/ajax/cart",method:"GET",success:function(t){t.error||(e(".cart-dropdown-panel").html(t.data.html),e(".mini-cart-icon span").text(t.data.count))}})},error:function(e){t.closest(".table--cart").removeClass("content-loading"),window.showAlert("alert-danger",e.message)}})}e(document).on("change",".form-review-product input[type=file]",(function(t){t.preventDefault();var a=this,o=e(a),s=o.data("max-size");Object.keys(a.files).map((function(e){if(s&&a.files[e].size/1024>s){var t=o.data("max-size-message").replace("__attribute__",a.files[e].name).replace("__max__",s);window.showAlert("alert-danger",t)}else n.push(a.files[e])}));var r=n.length,l=o.data("max-files");l&&r>l&&n.splice(r-l-1,r-l),i(a)})),e(document).on("click",".form-review-product .image-viewer__icon-remove",(function(t){t.preventDefault();var a=e(t.currentTarget).closest(".image-viewer__item").data("id");n.splice(a,1);var o=e(".form-review-product input[type=file]")[0];i(o)})),sessionStorage.reloadReviewsTab&&(e('.nav-tabs li a[href="#Reviews"]').tab("show"),sessionStorage.reloadReviewsTab=!1),e(document).on("click",".form-review-product button[type=submit]",(function(n){var s=this;n.preventDefault(),n.stopPropagation(),e(this).prop("disabled",!0).addClass("btn-disabled").addClass("button-loading");var r=e(this).closest("form");e.ajax({type:"POST",cache:!1,url:r.prop("action"),data:new FormData(r[0]),contentType:!1,processData:!1,success:function(o){o.error?t(o.message):(r.find("select").val(0),r.find("textarea").val(""),a(o.message),setTimeout((function(){sessionStorage.reloadReviewsTab=!0,window.location.reload()}),1500)),e(s).prop("disabled",!1).removeClass("btn-disabled").removeClass("button-loading")},error:function(t){e(s).prop("disabled",!1).removeClass("btn-disabled").removeClass("button-loading"),o(t)}})})),e(".form-coupon-wrapper .coupon-code").keypress((function(t){if(13===t.keyCode)return e(".apply-coupon-code").trigger("click"),t.preventDefault(),t.stopPropagation(),!1})),e(document).on("click",".detail-qty .qty-up",(function(t){t.preventDefault(),t.stopPropagation();var a=e(this).closest(".detail-qty").find(".qty-val"),o=parseInt(a.val()?a.val():1,10);o+=1,a.val(o),e(this).closest(".section--shopping-cart").length&&d(e(this))})),e(document).on("click",".detail-qty .qty-down",(function(t){t.preventDefault(),t.stopPropagation();var a=e(this).closest(".detail-qty").find(".qty-val"),o=parseInt(a.val()?a.val():1,10);(o-=1)>1||(o=1),e(this).closest(".detail-qty").find("input").val(o).trigger("change"),o>=0&&e(this).closest(".section--shopping-cart").length&&d(e(this))})),e(document).on("change",".section--shopping-cart .detail-qty .qty-val",(function(){d(e(this))})),e(document).on("click",".btn-apply-coupon-code",(function(t){t.preventDefault();var a=e(t.currentTarget);a.prop("disabled",!0).addClass("btn-disabled").addClass("button-loading"),e.ajax({url:a.data("url"),type:"POST",data:{coupon_code:a.closest(".form-coupon-wrapper").find(".coupon-code").val()},headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){t.error?(window.showAlert("alert-danger",t.message),a.prop("disabled",!1).removeClass("btn-disabled").removeClass("button-loading")):e(".section--shopping-cart").load(window.location.href+"?applied_coupon=1 .section--shopping-cart > *",(function(){a.prop("disabled",!1).removeClass("btn-disabled").removeClass("button-loading"),window.showAlert("alert-success",t.message)}))},error:function(t){void 0!==t.responseJSON?"undefined"!==t.responseJSON.errors?e.each(t.responseJSON.errors,(function(t,a){e.each(a,(function(e,t){window.showAlert("alert-danger",t)}))})):void 0!==t.responseJSON.message&&window.showAlert("alert-danger",t.responseJSON.message):window.showAlert("alert-danger",t.status.text),a.prop("disabled",!1).removeClass("btn-disabled").removeClass("button-loading")}})})),e(document).on("click",".btn-remove-coupon-code",(function(t){t.preventDefault();var a=e(t.currentTarget),o=a.text();a.text(a.data("processing-text")),e.ajax({url:a.data("url"),type:"POST",headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},success:function(t){t.error?(window.showAlert("alert-danger",t.message),a.text(o)):e(".section--shopping-cart").load(window.location.href+" .section--shopping-cart > *",(function(){a.text(o)}))},error:function(t){void 0!==t.responseJSON?"undefined"!==t.responseJSON.errors?e.each(t.responseJSON.errors,(function(t,a){e.each(a,(function(e,t){window.showAlert("alert-danger",t)}))})):void 0!==t.responseJSON.message&&window.showAlert("alert-danger",t.responseJSON.message):window.showAlert("alert-danger",t.status.text),a.text(o)}})})),e(document).on("click",".js-remove-from-wishlist-button-wishlist",(function(t){t.preventDefault();var a=e(this);a.addClass("button-loading"),e.ajax({url:a.data("url"),method:"DELETE",success:function(t){if(t.error)return a.removeClass("button-loading"),window.showAlert("alert-danger",t.message),!1;window.showAlert("alert-success",t.message),e(".wishlist-count").text(t.data.count),a.removeClass("button-loading"),a.closest("tr").remove()},error:function(e){a.removeClass("button-loading"),window.showAlert("alert-danger",e.message)}})})),e(document).ready((function(){var t=e("#flash-sale-modal");t.length&&!function(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var n=a[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}(t.data("id"))&&setTimeout((function(){t.modal("show"),function(e,t,a){var o=new Date,n=window.siteUrl;n.includes(window.location.protocol)||(n=window.location.protocol+n);var s=new URL(n);o.setTime(o.getTime()+24*a*60*60*1e3);var r="expires="+o.toUTCString();document.cookie=e+"="+t+"; "+r+"; path=/; domain="+s.hostname}(t.data("id"),1,1)}),5e3)})),e(document).on("click",".js-quick-view-button",(function(t){t.preventDefault();var a=e("#quick-view-modal");a.find(".quick-view-content").html(""),a.find(".modal-body").addClass("modal-empty"),a.find(".loading-spinner").show(),a.modal("show"),e.ajax({url:e(t.currentTarget).data("url"),type:"GET",success:function(t){t.error?(window.showAlert("alert-danger",t.message),a.modal("hide")):(a.find(".loading-spinner").hide(),a.find(".modal-body").removeClass("modal-empty"),a.find(".quick-view-content").html(t.data),a.find(".product-image-slider").slick({slidesToShow:1,slidesToScroll:1,rtl:r,arrows:!1,fade:!1,asNavFor:".slider-nav-thumbnails"}),a.find(".slider-nav-thumbnails").slick({slidesToShow:5,slidesToScroll:1,rtl:r,asNavFor:".product-image-slider",dots:!1,focusOnSelect:!0,prevArrow:'<button type="button" class="slick-prev"><i class="fi-rs-arrow-small-left"></i></button>',nextArrow:'<button type="button" class="slick-next"><i class="fi-rs-arrow-small-right"></i></button>'}),a.find(".slider-nav-thumbnails .slick-slide").removeClass("slick-active"),a.find(".slider-nav-thumbnails .slick-slide").eq(0).addClass("slick-active"),a.find(".product-image-slider").on("beforeChange",(function(e,t,o,n){var s=n;a.find(".slider-nav-thumbnails .slick-slide").removeClass("slick-active"),a.find(".slider-nav-thumbnails .slick-slide").eq(s).addClass("slick-active")})),a.find(".product-image-slider").magnificPopup({delegate:".slick-slide:not(.slick-cloned) a",type:"image",gallery:{enabled:!0}}),e(window).trigger("resize"),e(".list-filter").each((function(){e(this).find("a").on("click",(function(t){t.preventDefault(),e(this).parent().siblings().removeClass("active"),e(this).parent().toggleClass("active"),e(this).parents(".attr-detail").find(".current-size").text(e(this).text()),e(this).parents(".attr-detail").find(".current-color").text(e(this).attr("data-color"))}))})))},error:function(){a.modal("hide")}})})),e(document).on("click","input[name=is_vendor]",(function(){1==e(this).val()?e(".show-if-vendor").slideDown().show():(e(".show-if-vendor").slideUp(),setTimeout((function(){e(".show-if-vendor").hide()}),500))})),e("#shop-url").on("keyup",(function(){var t=e(this).closest(".form-group").find("span small");t.html(t.data("base-url")+"/<strong>"+e(this).val().toLowerCase()+"</strong>")})).on("change",(function(){var t=this;e(".shop-url-wrapper").addClass("content-loading"),e(this).closest("form").find("button[type=submit]").addClass("btn-disabled").prop("disabled",!0),e.ajax({url:e(this).data("url"),type:"POST",data:{url:e(this).val()},success:function(a){e(".shop-url-wrapper").removeClass("content-loading"),a.error?e(".shop-url-status").removeClass("text-success").addClass("text-danger").text(a.message):(e(".shop-url-status").removeClass("text-danger").addClass("text-success").text(a.message),e(t).closest("form").find("button[type=submit]").prop("disabled",!1).removeClass("btn-disabled"))},error:function(){e(".shop-url-wrapper").removeClass("content-loading")}})}));var c=e("#products-filter-ajax"),u=e(".products-listing");function p(t){c.find("input, select, textarea").each((function(a,o){var n=e(o),s=n.attr("name"),r=t[s]||null;"checkbox"===n.attr("type")?(n.prop("checked",!1),Array.isArray(r)?n.prop("checked",r.includes(n.val())):n.prop("checked",!!r)):n.is("[name=max_price]")?n.val(r||n.data("max")):n.is("[name=min_price]")?n.val(r||n.data("min")):n.val()!=r&&n.val(r),n.trigger("change")}))}function m(t){t||(t=c.serializeArray());var a=f(t),o=!1;a&&a.length&&a.map((function(e){var t;t="[]"==e.name.substring(e.name.length-2)?'[name="'+e.name+'"][value="'+e.value+'"]':'[name="'+e.name+'"]',c.find(t).length&&(o=!0)})),e(".shop-filter-toggle").length&&(o?e(".shop-filter-toggle").addClass("is-filtering"):e(".shop-filter-toggle").removeClass("is-filtering"))}function f(e){var t=[];return e.forEach((function(e){if(e.value){if(["min_price","max_price"].includes(e.name)&&c.find("input[name="+e.name+"]").data(e.name.substring(0,3))==parseInt(e.value))return;t.push(e)}})),t}e(document).on("click",".clear_filter.clear_all_filter",(function(e){e.preventDefault(),p([]),c.trigger("submit")})),e(document).on("click",".clear_filter.bf_icons",(function(t){t.preventDefault();var a,o=e(t.currentTarget),n=o.data("name"),s=o.data("value");if("[]"==n.substring(n.length-2))"checkbox"===(a=c.find('[name="'+n+'"][value="'+s+'"]')).attr("type")?a.prop("checked",!1):a.val(null);else switch((a=c.find('[name="'+n+'"]')).attr("name")){case"min_price":a.val(a.data("min"));break;case"max_price":a.val(a.data("max"));break;default:a.val(null)}a&&a.trigger("change"),c.trigger("submit")})),e(document).on("change",".product-category-select",(function(){e(".product-cat-label").text(e.trim(e(this).find("option:selected").text()))})),e(".product-cat-label").text(e.trim(e(".product-category-select option:selected").text())),e(document).on("click",".show-advanced-filters",(function(t){t.preventDefault(),t.stopPropagation(),e(this).toggleClass("active"),e(".advanced-search-widgets").slideToggle(500)})),m(),c.length&&(e(document).on("submit","#products-filter-ajax",(function(a){a.preventDefault();var n=e(a.currentTarget),s=n.serializeArray(),r=f(s),i=[];u.find("input").map((function(t,a){var o=e(a);if(o.val()){var n=r.some((function(e){return e.name===o.attr("name")}));n||r.push({name:o.attr("name"),value:o.val()})}})),r.map((function(e){i.push(encodeURIComponent(e.name)+"="+e.value)}));var l=n.attr("action")+(i&&i.length?"?"+i.join("&"):"");r.push({name:"_",value:(new Date).getTime()}),e.ajax({url:n.attr("action"),type:"GET",data:r,beforeSend:function(){u.find(".list-content-loading").show(),window.closeShopFilterSection&&window.closeShopFilterSection();var t=c.offset().top,a=c.data("scroll-to");a&&e(a).length&&(t=e(a).offset().top),(void 0===c.data("with-header")||c.data("with-header"))&&(t-=e("header").height()),e("html, body").animate({scrollTop:t},500)},success:function(e){0==e.error?(u.html(e.data),l!=window.location.href&&window.history.pushState(r,e.message,l),m(s)):t(e.message||"Opp!")},error:function(e){o(e)},complete:function(){u.find(".list-content-loading").hide()}})})),window.addEventListener("popstate",(function(){var e=window.location.origin+window.location.pathname;c.attr("action")==e?(p(s()),c.trigger("submit")):history.back()}),!1),e(document).on("click",".products-listing .pagination-page a",(function(t){t.preventDefault();var a=e(t.currentTarget).attr("href");a.includes(window.location.protocol)||(a=window.location.protocol+a);var o=new URL(a).searchParams.get("page");u.find("input[name=page]").val(o),c.trigger("submit")})),e(document).on("click",".products_sortby .products_ajaxsortby a",(function(t){t.preventDefault();var a=e(t.currentTarget),o=a.attr("href"),n=a.closest(".products_ajaxsortby");if(n.find("a.selected").removeClass("selected"),a.addClass("selected"),o.indexOf("?")>=0){var r=o.substring(o.indexOf("?")+1);if(r){var i=s(r);u.find('input[name="'+n.data("name")+'"]').val(i[n.data("name")])}}c.trigger("submit")})),e(document).on("change",".category-filter-input",(function(t){var a=e(t.currentTarget),o=a.prop("checked");if(e(".category-filter-input[data-parent-id="+a.attr("data-id")+"]").each((function(t,a){o?e(a).prop("checked",!0):e(a).prop("checked",!1)})),0!==parseInt(a.attr("data-parent-id"))){var n=[],s=e(".category-filter-input[data-parent-id="+a.attr("data-parent-id")+"]");s.each((function(t,a){e(a).is(":checked")&&n.push(e(a).val())})),e(".category-filter-input[data-id="+a.attr("data-parent-id")+"]").prop("checked",n.length===s.length)}}))),function(){var t=e(".form--quick-search");e("body").on("click",(function(t){e(t.target).closest(".form--quick-search").length||e(".panel--search-result").removeClass("active")}));var a=null;function o(o){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=o.find(".panel--search-result"),r=o.find(".input-search-product").val();if(r){t.find(".input-search-product").val(r);var i=o.find("button[type=submit]");a=e.ajax({type:"GET",url:n||o.data("ajax-url"),dataType:"json",data:n?[]:o.serialize(),beforeSend:function(){i.addClass("loading"),null!=a&&a.abort()},success:function(t){if(t.error)s.html("").removeClass("active");else if(n){var a=e("<div>"+t.data+"</div>");s.find(".panel__content").find(".loadmore-container").remove(),s.find(".panel__content").append(a.find(".panel__content").contents())}else s.html(t.data).addClass("active")},error:function(){},complete:function(){i.removeClass("loading")}})}else s.html("").removeClass("active")}t.on("keyup",".input-search-product",(function(){o(e(this).closest("form"))})),t.on("change",".product-category-select",(function(){o(e(this).closest("form"))})),t.on("click",".loadmore",(function(t){t.preventDefault();var a=e(this).closest("form");e(this).addClass("loading"),o(a,e(this).attr("href"))}))}()}))}(jQuery);